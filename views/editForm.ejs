<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Edit Bill - Rajwada</title>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded shadow">
    <!-- Google Fonts -->
      <link
        href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap"
        rel="stylesheet"
      />

  <div
        class="bg-black text-white p-6 rounded-md shadow-lg max-w-3xl mx-auto text-center"
      >
        <!-- Top Gold Decoration -->
        <div class="text-yellow-500 text-2xl mb-2 select-none">âœ¦âœ¦âœ¦âœ¦âœ¦</div>

        <!-- Main Title -->
        <h1
          class="text-5xl font-bold mb-2"
          style="font-family: 'Great Vibes', cursive"
        >
          Rajwada's Creations
        </h1>

        <!-- Subtitle -->
        <p
          class="text-xl italic mb-4"
          style="font-family: 'Great Vibes', cursive"
        >
          The Designer Studio
        </p>
        <h1
          class="text-3xl font-bold mb-2"
          style="font-family: 'Great Vibes', cursive"
        >
          Billing
        </h1>

        <!-- Bottom Gold Decoration -->
        <div class="text-yellow-500 text-2xl mb-4 select-none">âœ¦âœ¦âœ¦âœ¦âœ¦</div>

        <!-- By Line -->
        <p
          class="text-sm text-gray-300 mb-2"
          style="font-family: 'Poppins', sans-serif"
        >
          By Limra Collection
        </p>

        <!-- Tagline -->
        <p
          class="text-xs italic mb-1"
          style="font-family: 'Poppins', sans-serif"
        >
          (An Exclusive Groom Collection)
        </p>

        <!-- Services -->
        <p
          class="text-xs mb-1 px-4 leading-relaxed"
          style="font-family: 'Poppins', sans-serif"
        >
          EXCELLENCY IN: COAT SUITS, SHERWANI, INDO WESTERNS, JACKETS, BLAZER &
          ALL KINDS OF MENS WEAR
        </p>

        <!-- Address -->
        <p class="text-xs mb-1" style="font-family: 'Poppins', sans-serif">
          S.NO.-14, SUPER MARKET, IST FLOOR, NEAR KANYA VEDIK COLLEGE, GHAZIABAD
          (U.P.)
        </p>

        <!-- Mobile Numbers -->
        <p class="text-xs mt-2" style="font-family: 'Poppins', sans-serif">
          Mob: 9650090132, 9899377912, 9911226156
        </p>
</div>

  <!-- Update Form Wrapper -->
<div class="max-w-4xl mx-auto bg-white shadow-xl rounded-xl p-8 font-[Poppins] text-sm text-gray-800">
  <form action="/update/<%= bill._id %>" method="POST" class="space-y-6">

    <!-- Order Info Row -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label class="block mb-1 font-medium">Order No.</label>
        <input type="text" name="order_no" value="<%= bill.order_no %>" placeholder="Order No." class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>

      <div>
        <label class="block mb-1 font-medium">Booking Date</label>
        <input type="date" name="booking_date" value="<%= bill.booking_date %>" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>

      <div>
        <label class="block mb-1 font-medium">Delivery Date</label>
        <input type="date" name="delivery_date" value="<%= bill.delivery_date %>" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>
    </div>

    <!-- Customer Info -->
    <div>
      <label class="block mb-1 font-medium">Customer's Name</label>
      <input type="text" name="customer_name" value="<%= bill.customer_name %>" placeholder="Full Name" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
    </div>

    <div>
      <label class="block mb-1 font-medium">Customer Address</label>
      <input type="text" name="address" value="<%= bill.address %>" placeholder="Address" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
    </div>

    <div>
      <label class="block mb-1 font-medium">Mobile Number</label>
      <input type="text" name="phone" value="<%= bill.phone %>" placeholder="Phone" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
    </div>

    <!-- Items Table -->
    <div>
      <label class="block mb-2 font-medium">Order Items</label>
      <table class="w-full border text-sm">
        <thead>
          <tr class="bg-gray-100 text-left">
            <th class="border p-2 w-1/12">S.No</th>
            <th class="border p-2">Description</th>
            <th class="border p-2 w-1/4">Amount</th>
          </tr>
        </thead>
        <tbody id="items">
          <% bill.items.forEach((item, i) => { %>
            <tr>
              <td class="border p-2"><input name="sno[]" value="<%= item.sno %>" class="w-full outline-none text-center" /></td>
              <td class="border p-2"><input name="description[]" value="<%= item.description %>" class="w-full outline-none" required /></td>
              <td class="border p-2"><input name="amount[]" type="number" value="<%= item.amount %>" class="w-full outline-none" required /></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
      <button type="button" onclick="addRow()" class="mt-2 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm">+ Add Row</button>
    </div>

    <!-- Payment Details -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label class="block mb-1 font-medium">Total</label>
        <input type="number" name="total" value="<%= bill.total %>" placeholder="Total" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>
      <div>
        <label class="block mb-1 font-medium">Advance</label>
        <input type="number" name="advance" value="<%= bill.advance %>" placeholder="Advance" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>
      <div>
        <label class="block mb-1 font-medium">Balance</label>
        <input type="number" name="balance" value="<%= bill.balance %>" placeholder="Balance" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>
    </div>

    <!-- Submit Button -->
    <div>
      <button type="submit" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded shadow">
        ðŸ’¾ Update Bill
      </button>
    </div>
  </form>
</div>

<!-- Add Row Script -->
<script>
  function addRow() {
    const tbody = document.getElementById("items");
    const rowCount = tbody.rows.length + 1;
    const row = document.createElement("tr");
    row.innerHTML = `
      <td class="border p-2"><input name="sno[]" value="${rowCount}" class="w-full outline-none text-center" /></td>
      <td class="border p-2"><input name="description[]" class="w-full outline-none" required /></td>
      <td class="border p-2"><input name="amount[]" type="number" class="w-full outline-none" required /></td>
    `;
    tbody.appendChild(row);
  }
</script>

</body>
</html>
